---
title: "ã‚ãã... git reset --hard ã¨ --mixed ã¨ --soft ã®é•ã„ã¯ä½•ï¼Ÿ"
author: 
   - name: "Ryo Nakagami"
     url: https://github.com/RyoNakagami
date: "2025-06-14"
categories: [git reset]
---

## âœ… ç›®æ¨™

- [ ] `git reset`ã¨ã¯ä½•ã‹ã‚’ç†è§£ã™ã‚‹
- [ ] `git reset --hard`ã¨`--mixed`ã¨`--soft`ã®é•ã„ã‚’ç†è§£ã™ã‚‹


## ğŸ”§ `git reset`ã¨ã¯ï¼Ÿ

:::{.blog-custom-border}
**Definition: git reset**<br>
`git reset`ã¯ï¼Œ`HEAD`ã‚’ç§»å‹•ã•ã›ï¼Œå¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ã®ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã‚’è§£é™¤ã—ãŸã‚Šï¼Œå¤‰æ›´ã‚’å‰Šé™¤ã—ãŸã‚Šã™ã‚‹ã‚³ãƒãƒ³ãƒ‰

:::


### `--soft` vs `--mixed` vs`--hard`ã®æ¯”è¼ƒè¡¨

:::{.no-border-top-table .pb-3}

| é ˜åŸŸ                  | `--soft` | `--mixed` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ) | `--hard`  |
| -------------------- | -------- | ------------------- | --------- |
| `HEAD` (ã‚³ãƒŸãƒƒãƒˆãƒã‚¤ãƒ³ã‚¿)  | âœ”ï¸ ç§»å‹•   | âœ”ï¸ ç§»å‹•              | âœ”ï¸ ç§»å‹•    |
| ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°é ˜åŸŸ (Index)   | âœ… ä¿æŒ    | âŒ ã‚¯ãƒªã‚¢             | âŒ ã‚¯ãƒªã‚¢   |
| ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«  | âœ… ä¿æŒ    | âœ… ä¿æŒ               | âŒ ã‚¯ãƒªã‚¢   |

:::

[git resetã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³]{.mini-section}

ä»¥ä¸‹ã®å›³ã¯ï¼Œç•°ãªã‚‹`git reset`ãƒ¢ãƒ¼ãƒ‰ãŒGitã®3ã¤ã®é ˜åŸŸã«ã©ã®ã‚ˆã†ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã‹ã‚’æ®µéšçš„ã«ç¤ºã—ãŸã‚‚ã®ã§ã™ï¼š

```{mermaid}
sequenceDiagram
    participant Before as commit-id A
    participant Working as Working Area
    participant Staging as Staging(Index)
    participant HEAD as commit-id B

    Before->>Working: editing files

    Working->>Staging: git add

    Staging->>HEAD: git commit

    HEAD->>Staging: git reset --soft HEAD~1
    HEAD->>Working: git reset --mixed HEAD~1
    HEAD->>Before: git reset --hard HEAD~1
```

## â“ æœ¬å½“ã« `git reset --hard` ãŒå¿…è¦ã‹ï¼Ÿ

Gitã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã¨ï¼Œæœ€æ–°ã®ã‚³ãƒŸãƒƒãƒˆã§ãƒã‚°ãŒç™ºç”Ÿã—ãŸãŸã‚ï¼Œä»¥å‰ã®ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒå‡ºã¦ãã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ï¼
ä¾‹ãˆã°ï¼Œç¾åœ¨ã®`HEAD`ã®1ã¤å‰ã®ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰`HOTFIX`ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ãŸã„å ´åˆãªã©ã§ã™ï¼

`git reset --hard`ã¨`git switch`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒï¼Œã‚‚ã†ä¸€åº¦è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ï¼ãã®å ´åˆï¼Œ

```bash
git switch -c HOTFIX HEAD~1
``` 

ã®æ–¹ãŒè‰¯ã„é¸æŠã§ã™ï¼

[ã“ã®ã‚³ãƒãƒ³ãƒ‰ã®å‹•ä½œ]{.mini-section}

- `HEAD`ã®1ã¤å‰ã®ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰`HOTFIX`ã¨ã„ã†åå‰ã®æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- HOTFIXãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆ
- ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã¨ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã¯å¤‰æ›´ã•ã‚Œã¾ã›ã‚“

[ãƒ¡ãƒªãƒƒãƒˆ]{.mini-section}

- éç ´å£Šçš„ï¼šå…¨ã¦ã®ã‚³ãƒŸãƒƒãƒˆãŒä¿æŒã•ã‚Œã¾ã™
- ã‚¯ãƒªãƒ¼ãƒ³ãªåˆ†é›¢ï¼šç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªã`HOTFIX`ã«å–ã‚Šçµ„ã‚ã¾ã™



## ğŸ‘ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¾ã¨ã‚

:::{.no-border-top-table}

| ã‚„ã‚ŠãŸã„ã“ã¨                                   | ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰        |
| -------------------------------------------- | ------------------- |
| ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’æ›¸ãæ›ãˆã‚‹ãŒä½œæ¥­å†…å®¹ã¯ä¿æŒ          | `git reset --soft HEAD~1`            |
| ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã‚’è§£é™¤ã—ï¼Œå¤‰æ›´ã¯ä¿æŒ        | `git reset --mixed HEAD~1` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ) |
| å…¨ã¦ã®å¤‰æ›´ã‚’å®Œå…¨ã«ç ´æ£„ã—ã¦ãƒªã‚»ãƒƒãƒˆ               | `git reset --hard HEAD~1`            |
| `HEAD~1`ã‹ã‚‰æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒ`HOTFIX`ã‚’ä½œæˆã—ã¦åˆ‡ã‚Šæ›¿ãˆ |`git switch -c HOTFIX HEAD~1`|

: {tbl-colwidths="[50,50]"}

:::



ğŸ“˜ å‚è€ƒæ–‡çŒ®
---------

- [Git DOcumentation > git-reset](https://git-scm.com/docs/git-reset)
